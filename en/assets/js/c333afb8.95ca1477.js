(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["5305"],{25186:function(e,n,r){"use strict";r.r(n),r.d(n,{assets:()=>m,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>u});var t=r(55510),s=r(86106),a=r(31176),o=r(53189),i=r(11832),p=r(76007),d=r(42871);let c={date:new Date("2025-02-02T00:00:00.000Z"),sidebar_label:"BusinessTreeSelect:1:Derived Components:1"},l="BusinessTreeSelect",m={authorsImageUrls:[]},u=[{value:"Basic Usage",id:"basic-usage",level:2},{value:"Cascading",id:"cascading",level:2},{value:"Clear Cache",id:"clear-cache",level:2},{value:"onLoad Event",id:"onload-event",level:2},{value:"API",id:"api",level:2},{value:"BusinessTreeSelectBuilder",id:"businesstreeselectbuilder",level:3},{value:"ApiType",id:"apitype",level:3},{value:"BusinessTreeSelect",id:"businesstreeselect",level:3},{value:"BusinessTreeSelectSelfType",id:"businesstreeselectselftype",level:4}];function y(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components},{API:r,Link:t}=n;return r||S("API",!0),t||S("Link",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Provides the same functionality as BusinessSelect, but works with ",(0,s.jsx)(n.strong,{children:"tree"})," data instead of flat lists."]}),"\n",(0,s.jsx)(n.p,{children:"Define once, use conveniently across your entire application."}),"\n",(0,s.jsx)(n.p,{children:"Here's the component initialization example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"import { BusinessTreeSelectBuilder } from 'react-admin-kit';\r\n\r\n// Define type for code hinting\r\ntype TreeSelectType = 'org';\r\n\r\nconst BusinessTreeSelect = BusinessTreeSelectBuilder<TreeSelectType>(\r\n  {\r\n    apis: [\r\n      {\r\n        type: 'org',\r\n        api: queryOrgFunction,\r\n      },\r\n    ],\r\n  })\r\n\r\n// Usage in pages\r\n<BusinessTreeSelect type=\"org\" />;\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Since it processes tree data, pagination is not needed. The API should return an array of objects directly, with ",(0,s.jsx)(n.code,{children:"name"})," as display text and ",(0,s.jsx)(n.code,{children:"id"})," as value by default."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"BusinessTreeSelect"})," is a wrapper around ",(0,s.jsx)(t,{src:"https://ant.design/components/tree-select#api",children:"Antd TreeSelect"}),", so it accepts all Antd TreeSelect properties."]}),"\n",(0,s.jsx)(o.A,{}),"\n",(0,s.jsx)(n.h2,{id:"cascading",children:"Cascading"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"This example shows department options cascading based on company selection."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"queryParams"})," to pass parameters to the API."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.A,{}),"\n",(0,s.jsx)(n.h2,{id:"clear-cache",children:"Clear Cache"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"clearTreeSelectCache(type: string)"})," to clear cache. Omitting ",(0,s.jsx)(n.code,{children:"type"})," clears all type caches."]}),"\n",(0,s.jsx)(p.A,{}),"\n",(0,s.jsx)(n.h2,{id:"onload-event",children:"onLoad Event"}),"\n",(0,s.jsx)(n.p,{children:"Triggered when dropdown data finishes loading. This event is useful for certain scenarios, such as auto-selecting the first item."}),"\n",(0,s.jsx)(d.A,{}),"\n",(0,s.jsx)(n.h2,{id:"api",children:"API"}),"\n",(0,s.jsx)(n.h3,{id:"businesstreeselectbuilder",children:"BusinessTreeSelectBuilder"}),"\n",(0,s.jsx)(r,{name:"BusinessTreeSelectBuilder"}),"\n",(0,s.jsx)(n.h3,{id:"apitype",children:"ApiType"}),"\n",(0,s.jsx)(r,{name:"BizTreeApi"}),"\n",(0,s.jsx)(n.h3,{id:"businesstreeselect",children:"BusinessTreeSelect"}),"\n",(0,s.jsxs)(n.p,{children:["BusinessTreeSelect type is a combination of ",(0,s.jsx)(n.a,{href:"/components/business-tree-select#businesstreeselectselftype",children:"BusinessTreeSelectSelfType"})," and ",(0,s.jsx)(t,{src:"https://ant.design/components/tree-select#api",children:"TreeSelectProps"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"businesstreeselectselftype",children:"BusinessTreeSelectSelfType"}),"\n",(0,s.jsx)(r,{name:"BusinessTreeSelectSelf"})]})}function h(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(y,{...e})}):y(e)}function S(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},28080:function(e,n,r){var t=r(31202);e.exports=function(e,n){return t(e,n)}},53648:function(e,n,r){"use strict";r.d(n,{c:()=>s,w:()=>t});let t=()=>new Promise(e=>{console.log("queryOrg only once"),setTimeout(()=>{e([{name:"Group Company",id:1,children:[{name:"Sub Company A",id:2},{name:"Sub Company B",id:3}]},{name:"Other Company",id:-1}])},1200)}),s=e=>new Promise(n=>{console.log("queryDept",e),setTimeout(()=>{1===e.id?n([{name:"Group - CEO",id:1},{name:"Group - Sales",id:2,children:[{name:"Group - Sale 1",id:3},{name:"Group - Sale 2",id:4}]}]):2===e.id?n([{name:"Sub Company A - dept",id:1,children:[{name:"Sub Company A - dept 1",id:2},{name:"Sub Company A - dept 2",id:3}]}]):3===e.id?n([{name:"Sub Company B - dept",id:1,children:[{name:"Sub Company B - dept 1",id:2},{name:"Sub Company B - dept 2",id:3}]}]):n([{name:"Other Company - dept",id:1,children:[{name:"Other Company - dept 1",id:2},{name:"Other Company - dept 2",id:3}]}])},1e3)})},46354:function(e,n,r){"use strict";r.d(n,{Qp:()=>m,Ay:()=>u,iN:()=>l,uS:()=>y});var t=r(86106),s=r(97),a=r(54192),o=r(28080),i=r.n(o),p=r(7378),d=r(84133);class c extends p.Component{constructor(e){super(e),this.state={loading:!1,dataSource:(0,s.mS)(l,e.type)||[]}}reRender=e=>{e.detail.type===this.props.type&&!this.isNoCache()&&(this.setState({loading:!1,dataSource:(0,s.mS)(l,this.props.type)||[]}),(0,s.UF)(m,{[this.props.type]:!1}),this.props.onLoad&&this.props.onLoad((0,s.mS)(l,this.props.type)||[]))};componentDidMount(){this.handleLoadData(),document.addEventListener("treeSelectGlobalUpdate",this.reRender)}componentWillUnmount(){document.removeEventListener("treeSelectGlobalUpdate",this.reRender)}componentDidUpdate(e){i()(e.queryParams,this.props.queryParams)||this.handleLoadData()}isNoCache=()=>{let{queryParams:e={},noCache:n}=this.props;return Object.keys(e).length>0||n};handleLoadData=()=>{this.isNoCache()?this.loadDataWithoutCache():this.loadDataForCache()};loadDataForCache=()=>{let{type:e,loadFunction:n,onLoad:r}=this.props;if((0,s.mS)(m,e))return void this.setState({loading:!0});if((0,s.mS)(l,e)){r&&r((0,s.mS)(l,e));return}(0,s.UF)(m,{[e]:!0}),this.setState({loading:!0}),n({}).then(n=>{(0,s.UF)(l,{[e]:n});let r=new CustomEvent("treeSelectGlobalUpdate",{detail:{type:e}});document.dispatchEvent(r)}).finally(()=>{this.setState({loading:!1})})};loadDataWithoutCache=()=>{let{loadFunction:e,queryParams:n,onLoad:r}=this.props;this.setState({loading:!0}),e(n).then(e=>{this.setState({dataSource:e}),r&&r(e)}).finally(()=>{this.setState({loading:!1})})};render(){let{type:e,loadFunction:n,nodeDisabled:r,queryParams:s,noCache:o,style:i={},value:p,onChange:c,showSearch:l=!0,treeNodeFilterProp:m="title",filterTreeNode:u=(e,n)=>{let{value:r="value",label:t="label"}=this.props.fieldNames||{};if(!n)return!1;{let s=(n[r]||"").toString().toLowerCase(),a=(n[t]||"").toString().toLowerCase();return s.includes(e.toLowerCase())||a.includes(e.toLowerCase())}},allowClear:y=!0,placeholder:h="\u8BF7\u9009\u62E9",...S}=this.props;return(0,t.jsx)(a.A,{...S,showSearch:l,treeNodeFilterProp:m,filterTreeNode:u,allowClear:y,placeholder:h,style:{width:"100%",...i},loading:this.state.loading,value:p,onChange:(e,n,r)=>{c&&c(e,n,r)},treeData:(0,d.SK)(this.state.dataSource||[],e=>r?{disabled:r(e)}:{})})}}let l="@@treeSelectData",m="@@treeSelectDataIsStart",u=function({apis:e=[],defaultProps:n={}}){return r=>{let{type:a,...o}=r,i=e.find(e=>e.type===a);if(!i)return null;let p=(0,s.VA)(n,i.defaultProps||{},{fieldNames:{value:"id",label:"name"}});return(0,t.jsx)(c,{type:a,...p,loadFunction:i.api,...o})}},y=e=>{e?((0,s.T7)(l,e),(0,s.T7)(m,e)):((0,s.T7)(l),(0,s.T7)(m))}},53189:function(e,n,r){"use strict";r.d(n,{A:()=>y});var t=r(86106);r(7378);var s=r(6375),a=r(82856),o=r(31278),i=r(35146),p=r(46354),d=r(63284),c=r(53648);let l=(0,p.Ay)({apis:[{api:c.w,type:"company"}]}),m=()=>(0,t.jsx)(d.Ay,{grid:!0,colProps:{span:8},onFinish:e=>console.log({values:e}),autoFocusFirstInput:!1,columns:[{title:"Company",dataIndex:"company",renderFormItem:()=>(0,t.jsx)(l,{placeholder:"choose a company",type:"company"})}]}),u={id:"VUfrtkXE",sourceCode:"import { BusinessTreeSelectBuilder, SchemaForm } from 'react-admin-kit';\r\nimport { queryCompany } from '../apis/index-en';\r\n\r\nconst BusinessTreeSelect = BusinessTreeSelectBuilder<'company'>({\r\n  apis: [\r\n    {\r\n      api: queryCompany,\r\n      type: 'company',\r\n    },\r\n  ],\r\n});\r\n\r\nconst Basic = () => {\r\n  return (\r\n    <SchemaForm\r\n      grid\r\n      colProps={{ span: 8 }}\r\n      onFinish={(values) => console.log({ values })}\r\n      autoFocusFirstInput={false}\r\n      columns={[\r\n        {\r\n          title: 'Company',\r\n          dataIndex: 'company',\r\n          renderFormItem: () => (\r\n            <BusinessTreeSelect placeholder=\"choose a company\" type=\"company\" />\r\n          ),\r\n        },\r\n      ]}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Basic;\r\n",dependencies:[{type:"FILE",source:"index.tsx",resolvedSource:"index.tsx",ext:"tsx",importType:"default",imported:["default"],value:"import { BusinessTreeSelectBuilder, SchemaForm } from 'react-admin-kit';\r\nimport { queryCompany } from '../apis/index-en';\r\n\r\nconst BusinessTreeSelect = BusinessTreeSelectBuilder<'company'>({\r\n  apis: [\r\n    {\r\n      api: queryCompany,\r\n      type: 'company',\r\n    },\r\n  ],\r\n});\r\n\r\nconst Basic = () => {\r\n  return (\r\n    <SchemaForm\r\n      grid\r\n      colProps={{ span: 8 }}\r\n      onFinish={(values) => console.log({ values })}\r\n      autoFocusFirstInput={false}\r\n      columns={[\r\n        {\r\n          title: 'Company',\r\n          dataIndex: 'company',\r\n          renderFormItem: () => (\r\n            <BusinessTreeSelect placeholder=\"choose a company\" type=\"company\" />\r\n          ),\r\n        },\r\n      ]}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Basic;\r\n",depth:0},{type:"NPM",source:"react-admin-kit",importType:"named",imported:["BusinessTreeSelectBuilder","SchemaForm"],depth:1,parent:"C:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src/BusinessTreeSelectBuilder/demos/basic-en/index.tsx"},{type:"FILE",source:"../apis/index-en",importType:"named",imported:["queryCompany"],ext:"tsx",resolvedSource:"../apis/index-enC:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src\\BusinessTreeSelectBuilder\\demos\\apis\\index-en.ts",value:"export const queryCompany = () => {\r\n  return new Promise((resolve) => {\r\n    console.log('queryOrg only once');\r\n    setTimeout(() => {\r\n      resolve([\r\n        {\r\n          name: 'Group Company',\r\n          id: 1,\r\n          children: [\r\n            {\r\n              name: 'Sub Company A',\r\n              id: 2,\r\n            },\r\n            {\r\n              name: 'Sub Company B',\r\n              id: 3,\r\n            },\r\n          ],\r\n        },\r\n        { name: 'Other Company', id: -1 },\r\n      ]);\r\n    }, 1200);\r\n  });\r\n};\r\n\r\nexport const queryDept = (params): Promise<any> => {\r\n  return new Promise((resolve) => {\r\n    console.log('queryDept', params);\r\n    setTimeout(() => {\r\n      if (params.id === 1) {\r\n        resolve([\r\n          { name: 'Group - CEO', id: 1 },\r\n          {\r\n            name: 'Group - Sales',\r\n            id: 2,\r\n            children: [\r\n              { name: 'Group - Sale 1', id: 3 },\r\n              { name: 'Group - Sale 2', id: 4 },\r\n            ],\r\n          },\r\n        ]);\r\n      } else if (params.id === 2) {\r\n        resolve([\r\n          {\r\n            name: 'Sub Company A - dept',\r\n            id: 1,\r\n            children: [\r\n              {\r\n                name: 'Sub Company A - dept 1',\r\n                id: 2,\r\n              },\r\n              {\r\n                name: 'Sub Company A - dept 2',\r\n                id: 3,\r\n              },\r\n            ],\r\n          },\r\n        ]);\r\n      } else if (params.id === 3) {\r\n        resolve([\r\n          {\r\n            name: 'Sub Company B - dept',\r\n            id: 1,\r\n            children: [\r\n              {\r\n                name: 'Sub Company B - dept 1',\r\n                id: 2,\r\n              },\r\n              {\r\n                name: 'Sub Company B - dept 2',\r\n                id: 3,\r\n              },\r\n            ],\r\n          },\r\n        ]);\r\n      } else {\r\n        resolve([\r\n          {\r\n            name: 'Other Company - dept',\r\n            id: 1,\r\n            children: [\r\n              {\r\n                name: 'Other Company - dept 1',\r\n                id: 2,\r\n              },\r\n              {\r\n                name: 'Other Company - dept 2',\r\n                id: 3,\r\n              },\r\n            ],\r\n          },\r\n        ]);\r\n      }\r\n    }, 1000);\r\n  });\r\n};\r\n",depth:1,parent:"C:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src/BusinessTreeSelectBuilder/demos/basic-en/index.tsx"}]};function y(){let{colorMode:e}=(0,a.G)(),n=(0,o.A)();return(0,t.jsx)(i.M,{component:(0,t.jsx)(m,{}),componentInfo:u,inline:!1,title:void 0,tooltipRender:e=>(0,s.T)({id:`previewer.actions.code.${e?"shrink":"expand"}`}),colorMode:e,isBrowser:n})}},11832:function(e,n,r){"use strict";r.d(n,{A:()=>y});var t=r(86106);r(7378);var s=r(6375),a=r(82856),o=r(31278),i=r(35146),p=r(46354),d=r(63284),c=r(53648);let l=(0,p.Ay)({apis:[{api:c.w,type:"company"},{api:c.c,type:"dept"}],defaultProps:{placeholder:"please choose"}}),m=()=>(0,t.jsx)(d.Ay,{grid:!0,colProps:{span:8},onFinish:e=>console.log({values:e}),autoFocusFirstInput:!1,columns:[{title:"Company",dataIndex:"company",renderFormItem:()=>(0,t.jsx)(l,{type:"company"})},{valueType:"dependency",name:["company"],columns:({company:e})=>e?[{title:"Department",dataIndex:"dept",renderFormItem:()=>(0,t.jsx)(l,{queryParams:{id:e},style:{width:"250px"},type:"dept"})}]:[{title:"Department",dataIndex:"dept",fieldProps:{style:{width:"250px"},disabled:!0,placeholder:"please choose a company first"}}]}]}),u={id:"njJZTxSt",sourceCode:"import { SchemaForm, BusinessTreeSelectBuilder } from 'react-admin-kit';\r\nimport { queryCompany, queryDept } from '../apis/index-en';\r\n\r\nconst BusinessTreeSelect = BusinessTreeSelectBuilder<'company' | 'dept'>({\r\n  apis: [\r\n    {\r\n      api: queryCompany,\r\n      type: 'company',\r\n    },\r\n    {\r\n      api: queryDept,\r\n      type: 'dept',\r\n    },\r\n  ],\r\n  defaultProps: {\r\n    placeholder: 'please choose',\r\n  },\r\n});\r\n\r\nconst Demo = () => {\r\n  return (\r\n    <SchemaForm\r\n      grid\r\n      colProps={{ span: 8 }}\r\n      onFinish={(values) => console.log({ values })}\r\n      autoFocusFirstInput={false}\r\n      columns={[\r\n        {\r\n          title: 'Company',\r\n          dataIndex: 'company',\r\n          renderFormItem: () => <BusinessTreeSelect type=\"company\" />,\r\n        },\r\n        {\r\n          valueType: 'dependency',\r\n          name: ['company'],\r\n          columns: ({ company }) => {\r\n            if (company) {\r\n              return [\r\n                {\r\n                  title: 'Department',\r\n                  dataIndex: 'dept',\r\n                  renderFormItem: () => (\r\n                    <BusinessTreeSelect\r\n                      queryParams={{ id: company }}\r\n                      style={{ width: '250px' }}\r\n                      type=\"dept\"\r\n                    />\r\n                  ),\r\n                },\r\n              ];\r\n            } else {\r\n              return [\r\n                {\r\n                  title: 'Department',\r\n                  dataIndex: 'dept',\r\n                  fieldProps: {\r\n                    style: { width: '250px' },\r\n                    disabled: true,\r\n                    placeholder: 'please choose a company first',\r\n                  },\r\n                },\r\n              ];\r\n            }\r\n          },\r\n        },\r\n      ]}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Demo;\r\n",dependencies:[{type:"FILE",source:"index.tsx",resolvedSource:"index.tsx",ext:"tsx",importType:"default",imported:["default"],value:"import { SchemaForm, BusinessTreeSelectBuilder } from 'react-admin-kit';\r\nimport { queryCompany, queryDept } from '../apis/index-en';\r\n\r\nconst BusinessTreeSelect = BusinessTreeSelectBuilder<'company' | 'dept'>({\r\n  apis: [\r\n    {\r\n      api: queryCompany,\r\n      type: 'company',\r\n    },\r\n    {\r\n      api: queryDept,\r\n      type: 'dept',\r\n    },\r\n  ],\r\n  defaultProps: {\r\n    placeholder: 'please choose',\r\n  },\r\n});\r\n\r\nconst Demo = () => {\r\n  return (\r\n    <SchemaForm\r\n      grid\r\n      colProps={{ span: 8 }}\r\n      onFinish={(values) => console.log({ values })}\r\n      autoFocusFirstInput={false}\r\n      columns={[\r\n        {\r\n          title: 'Company',\r\n          dataIndex: 'company',\r\n          renderFormItem: () => <BusinessTreeSelect type=\"company\" />,\r\n        },\r\n        {\r\n          valueType: 'dependency',\r\n          name: ['company'],\r\n          columns: ({ company }) => {\r\n            if (company) {\r\n              return [\r\n                {\r\n                  title: 'Department',\r\n                  dataIndex: 'dept',\r\n                  renderFormItem: () => (\r\n                    <BusinessTreeSelect\r\n                      queryParams={{ id: company }}\r\n                      style={{ width: '250px' }}\r\n                      type=\"dept\"\r\n                    />\r\n                  ),\r\n                },\r\n              ];\r\n            } else {\r\n              return [\r\n                {\r\n                  title: 'Department',\r\n                  dataIndex: 'dept',\r\n                  fieldProps: {\r\n                    style: { width: '250px' },\r\n                    disabled: true,\r\n                    placeholder: 'please choose a company first',\r\n                  },\r\n                },\r\n              ];\r\n            }\r\n          },\r\n        },\r\n      ]}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Demo;\r\n",depth:0},{type:"NPM",source:"react-admin-kit",importType:"named",imported:["SchemaForm","BusinessTreeSelectBuilder"],depth:1,parent:"C:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src/BusinessTreeSelectBuilder/demos/queryParams-en/index.tsx"},{type:"FILE",source:"../apis/index-en",importType:"named",imported:["queryCompany","queryDept"],ext:"tsx",resolvedSource:"../apis/index-enC:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src\\BusinessTreeSelectBuilder\\demos\\apis\\index-en.ts",value:"export const queryCompany = () => {\r\n  return new Promise((resolve) => {\r\n    console.log('queryOrg only once');\r\n    setTimeout(() => {\r\n      resolve([\r\n        {\r\n          name: 'Group Company',\r\n          id: 1,\r\n          children: [\r\n            {\r\n              name: 'Sub Company A',\r\n              id: 2,\r\n            },\r\n            {\r\n              name: 'Sub Company B',\r\n              id: 3,\r\n            },\r\n          ],\r\n        },\r\n        { name: 'Other Company', id: -1 },\r\n      ]);\r\n    }, 1200);\r\n  });\r\n};\r\n\r\nexport const queryDept = (params): Promise<any> => {\r\n  return new Promise((resolve) => {\r\n    console.log('queryDept', params);\r\n    setTimeout(() => {\r\n      if (params.id === 1) {\r\n        resolve([\r\n          { name: 'Group - CEO', id: 1 },\r\n          {\r\n            name: 'Group - Sales',\r\n            id: 2,\r\n            children: [\r\n              { name: 'Group - Sale 1', id: 3 },\r\n              { name: 'Group - Sale 2', id: 4 },\r\n            ],\r\n          },\r\n        ]);\r\n      } else if (params.id === 2) {\r\n        resolve([\r\n          {\r\n            name: 'Sub Company A - dept',\r\n            id: 1,\r\n            children: [\r\n              {\r\n                name: 'Sub Company A - dept 1',\r\n                id: 2,\r\n              },\r\n              {\r\n                name: 'Sub Company A - dept 2',\r\n                id: 3,\r\n              },\r\n            ],\r\n          },\r\n        ]);\r\n      } else if (params.id === 3) {\r\n        resolve([\r\n          {\r\n            name: 'Sub Company B - dept',\r\n            id: 1,\r\n            children: [\r\n              {\r\n                name: 'Sub Company B - dept 1',\r\n                id: 2,\r\n              },\r\n              {\r\n                name: 'Sub Company B - dept 2',\r\n                id: 3,\r\n              },\r\n            ],\r\n          },\r\n        ]);\r\n      } else {\r\n        resolve([\r\n          {\r\n            name: 'Other Company - dept',\r\n            id: 1,\r\n            children: [\r\n              {\r\n                name: 'Other Company - dept 1',\r\n                id: 2,\r\n              },\r\n              {\r\n                name: 'Other Company - dept 2',\r\n                id: 3,\r\n              },\r\n            ],\r\n          },\r\n        ]);\r\n      }\r\n    }, 1000);\r\n  });\r\n};\r\n",depth:1,parent:"C:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src/BusinessTreeSelectBuilder/demos/queryParams-en/index.tsx"}]};function y(){let{colorMode:e}=(0,a.G)(),n=(0,o.A)();return(0,t.jsx)(i.M,{component:(0,t.jsx)(m,{}),componentInfo:u,inline:!1,title:void 0,tooltipRender:e=>(0,s.T)({id:`previewer.actions.code.${e?"shrink":"expand"}`}),colorMode:e,isBrowser:n})}},76007:function(e,n,r){"use strict";r.d(n,{A:()=>x});var t=r(86106),s=r(7378),a=r(6375),o=r(82856),i=r(31278),p=r(35146),d=r(40605),c=r(46354),l=r(84652),m=r(34661),u=r(53648);let y=(0,c.Ay)({apis:[{api:u.w,type:"company"}],defaultProps:{placeholder:"please choose"}}),h=()=>{let e=(0,s.useRef)();return(0,t.jsxs)("div",{children:[(0,t.jsx)(l.A,{onClick:()=>{(0,c.uS)("company"),d.Ay.info("clear cache success")},children:"clear cache"}),(0,t.jsx)(l.A,{type:"primary",style:{marginLeft:"10px"},onClick:()=>e.current?.openModal("new"),children:"open"}),(0,t.jsx)(m.Ay,{innerRef:e,onFinish:e=>console.log({values:e}),columns:[{title:"Company (Notice the loading indicator on the right corner of input)",dataIndex:"company",renderFormItem:()=>(0,t.jsx)(y,{type:"company"})}]})]})},S={id:"RvXFvUUd",sourceCode:"import { message } from 'antd';\r\nimport { useRef } from 'react';\r\nimport {\r\n  Button,\r\n  ModalForm,\r\n  BusinessTreeSelectBuilder,\r\n  clearTreeSelectCache,\r\n} from 'react-admin-kit';\r\nimport { queryCompany } from '../apis/index-en';\r\n\r\nconst BusinessTreeSelect = BusinessTreeSelectBuilder<'company'>({\r\n  apis: [\r\n    {\r\n      api: queryCompany,\r\n      type: 'company',\r\n    },\r\n  ],\r\n  defaultProps: {\r\n    placeholder: 'please choose',\r\n  },\r\n});\r\n\r\nconst ClearCacheDemo = () => {\r\n  const innerRef = useRef<any>();\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={() => {\r\n          clearTreeSelectCache('company');\r\n          message.info('clear cache success');\r\n        }}\r\n      >\r\n        clear cache\r\n      </Button>\r\n\r\n      <Button\r\n        type=\"primary\"\r\n        style={{ marginLeft: '10px' }}\r\n        onClick={() => innerRef.current?.openModal('new')}\r\n      >\r\n        open\r\n      </Button>\r\n\r\n      <ModalForm\r\n        innerRef={innerRef}\r\n        onFinish={(values) => console.log({ values })}\r\n        columns={[\r\n          {\r\n            title:\r\n              'Company (Notice the loading indicator on the right corner of input)',\r\n            dataIndex: 'company',\r\n            renderFormItem: () => <BusinessTreeSelect type=\"company\" />,\r\n          },\r\n        ]}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClearCacheDemo;\r\n",dependencies:[{type:"FILE",source:"index.tsx",resolvedSource:"index.tsx",ext:"tsx",importType:"default",imported:["default"],value:"import { message } from 'antd';\r\nimport { useRef } from 'react';\r\nimport {\r\n  Button,\r\n  ModalForm,\r\n  BusinessTreeSelectBuilder,\r\n  clearTreeSelectCache,\r\n} from 'react-admin-kit';\r\nimport { queryCompany } from '../apis/index-en';\r\n\r\nconst BusinessTreeSelect = BusinessTreeSelectBuilder<'company'>({\r\n  apis: [\r\n    {\r\n      api: queryCompany,\r\n      type: 'company',\r\n    },\r\n  ],\r\n  defaultProps: {\r\n    placeholder: 'please choose',\r\n  },\r\n});\r\n\r\nconst ClearCacheDemo = () => {\r\n  const innerRef = useRef<any>();\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={() => {\r\n          clearTreeSelectCache('company');\r\n          message.info('clear cache success');\r\n        }}\r\n      >\r\n        clear cache\r\n      </Button>\r\n\r\n      <Button\r\n        type=\"primary\"\r\n        style={{ marginLeft: '10px' }}\r\n        onClick={() => innerRef.current?.openModal('new')}\r\n      >\r\n        open\r\n      </Button>\r\n\r\n      <ModalForm\r\n        innerRef={innerRef}\r\n        onFinish={(values) => console.log({ values })}\r\n        columns={[\r\n          {\r\n            title:\r\n              'Company (Notice the loading indicator on the right corner of input)',\r\n            dataIndex: 'company',\r\n            renderFormItem: () => <BusinessTreeSelect type=\"company\" />,\r\n          },\r\n        ]}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClearCacheDemo;\r\n",depth:0},{type:"NPM",source:"antd",importType:"named",imported:["message"],depth:1,parent:"C:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src/BusinessTreeSelectBuilder/demos/clearCache-en/index.tsx"},{type:"NPM",source:"react",importType:"named",imported:["useRef"],depth:1,parent:"C:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src/BusinessTreeSelectBuilder/demos/clearCache-en/index.tsx"},{type:"NPM",source:"react-admin-kit",importType:"named",imported:["Button","ModalForm","BusinessTreeSelectBuilder","clearTreeSelectCache"],depth:1,parent:"C:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src/BusinessTreeSelectBuilder/demos/clearCache-en/index.tsx"},{type:"FILE",source:"../apis/index-en",importType:"named",imported:["queryCompany"],ext:"tsx",resolvedSource:"../apis/index-enC:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src\\BusinessTreeSelectBuilder\\demos\\apis\\index-en.ts",value:"export const queryCompany = () => {\r\n  return new Promise((resolve) => {\r\n    console.log('queryOrg only once');\r\n    setTimeout(() => {\r\n      resolve([\r\n        {\r\n          name: 'Group Company',\r\n          id: 1,\r\n          children: [\r\n            {\r\n              name: 'Sub Company A',\r\n              id: 2,\r\n            },\r\n            {\r\n              name: 'Sub Company B',\r\n              id: 3,\r\n            },\r\n          ],\r\n        },\r\n        { name: 'Other Company', id: -1 },\r\n      ]);\r\n    }, 1200);\r\n  });\r\n};\r\n\r\nexport const queryDept = (params): Promise<any> => {\r\n  return new Promise((resolve) => {\r\n    console.log('queryDept', params);\r\n    setTimeout(() => {\r\n      if (params.id === 1) {\r\n        resolve([\r\n          { name: 'Group - CEO', id: 1 },\r\n          {\r\n            name: 'Group - Sales',\r\n            id: 2,\r\n            children: [\r\n              { name: 'Group - Sale 1', id: 3 },\r\n              { name: 'Group - Sale 2', id: 4 },\r\n            ],\r\n          },\r\n        ]);\r\n      } else if (params.id === 2) {\r\n        resolve([\r\n          {\r\n            name: 'Sub Company A - dept',\r\n            id: 1,\r\n            children: [\r\n              {\r\n                name: 'Sub Company A - dept 1',\r\n                id: 2,\r\n              },\r\n              {\r\n                name: 'Sub Company A - dept 2',\r\n                id: 3,\r\n              },\r\n            ],\r\n          },\r\n        ]);\r\n      } else if (params.id === 3) {\r\n        resolve([\r\n          {\r\n            name: 'Sub Company B - dept',\r\n            id: 1,\r\n            children: [\r\n              {\r\n                name: 'Sub Company B - dept 1',\r\n                id: 2,\r\n              },\r\n              {\r\n                name: 'Sub Company B - dept 2',\r\n                id: 3,\r\n              },\r\n            ],\r\n          },\r\n        ]);\r\n      } else {\r\n        resolve([\r\n          {\r\n            name: 'Other Company - dept',\r\n            id: 1,\r\n            children: [\r\n              {\r\n                name: 'Other Company - dept 1',\r\n                id: 2,\r\n              },\r\n              {\r\n                name: 'Other Company - dept 2',\r\n                id: 3,\r\n              },\r\n            ],\r\n          },\r\n        ]);\r\n      }\r\n    }, 1000);\r\n  });\r\n};\r\n",depth:1,parent:"C:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src/BusinessTreeSelectBuilder/demos/clearCache-en/index.tsx"}]};function x(){let{colorMode:e}=(0,o.G)(),n=(0,i.A)();return(0,t.jsx)(p.M,{component:(0,t.jsx)(h,{}),componentInfo:S,inline:!1,title:void 0,tooltipRender:e=>(0,a.T)({id:`previewer.actions.code.${e?"shrink":"expand"}`}),colorMode:e,isBrowser:n})}},42871:function(e,n,r){"use strict";r.d(n,{A:()=>h});var t=r(86106),s=r(7378),a=r(6375),o=r(82856),i=r(31278),p=r(35146),d=r(55433),c=r(46354),l=r(53648);let m=(0,c.Ay)({apis:[{api:l.w,type:"company"}],defaultProps:{placeholder:"please choose"}}),u=()=>{let[e,n]=(0,s.useState)();return(0,t.jsx)(d.A,{children:(0,t.jsx)(m,{style:{width:"250px"},type:"company",value:e,onChange:n,onLoad:e=>{console.log("tree onload options",e),n(e[0]?.id)}})})},y={id:"ByE4p1Pm",sourceCode:"import { Space } from 'antd';\r\nimport { useState } from 'react';\r\nimport { BusinessTreeSelectBuilder } from 'react-admin-kit';\r\n\r\nimport { queryCompany } from '../apis/index-en';\r\n\r\nconst BusinessTreeSelect = BusinessTreeSelectBuilder<'company'>({\r\n  apis: [\r\n    {\r\n      api: queryCompany,\r\n      type: 'company',\r\n    },\r\n  ],\r\n  defaultProps: {\r\n    placeholder: 'please choose',\r\n  },\r\n});\r\n\r\nconst OnLoad = () => {\r\n  const [companyId, setCompanyId] = useState();\r\n\r\n  return (\r\n    <Space>\r\n      <BusinessTreeSelect\r\n        style={{ width: '250px' }}\r\n        type=\"company\"\r\n        value={companyId}\r\n        onChange={setCompanyId}\r\n        onLoad={(options) => {\r\n          console.log('tree onload options', options);\r\n          setCompanyId(options[0]?.id);\r\n        }}\r\n      />\r\n    </Space>\r\n  );\r\n};\r\n\r\nexport default OnLoad;\r\n",dependencies:[{type:"FILE",source:"index.tsx",resolvedSource:"index.tsx",ext:"tsx",importType:"default",imported:["default"],value:"import { Space } from 'antd';\r\nimport { useState } from 'react';\r\nimport { BusinessTreeSelectBuilder } from 'react-admin-kit';\r\n\r\nimport { queryCompany } from '../apis/index-en';\r\n\r\nconst BusinessTreeSelect = BusinessTreeSelectBuilder<'company'>({\r\n  apis: [\r\n    {\r\n      api: queryCompany,\r\n      type: 'company',\r\n    },\r\n  ],\r\n  defaultProps: {\r\n    placeholder: 'please choose',\r\n  },\r\n});\r\n\r\nconst OnLoad = () => {\r\n  const [companyId, setCompanyId] = useState();\r\n\r\n  return (\r\n    <Space>\r\n      <BusinessTreeSelect\r\n        style={{ width: '250px' }}\r\n        type=\"company\"\r\n        value={companyId}\r\n        onChange={setCompanyId}\r\n        onLoad={(options) => {\r\n          console.log('tree onload options', options);\r\n          setCompanyId(options[0]?.id);\r\n        }}\r\n      />\r\n    </Space>\r\n  );\r\n};\r\n\r\nexport default OnLoad;\r\n",depth:0},{type:"NPM",source:"antd",importType:"named",imported:["Space"],depth:1,parent:"C:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src/BusinessTreeSelectBuilder/demos/onLoad-en/index.tsx"},{type:"NPM",source:"react",importType:"named",imported:["useState"],depth:1,parent:"C:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src/BusinessTreeSelectBuilder/demos/onLoad-en/index.tsx"},{type:"NPM",source:"react-admin-kit",importType:"named",imported:["BusinessTreeSelectBuilder"],depth:1,parent:"C:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src/BusinessTreeSelectBuilder/demos/onLoad-en/index.tsx"},{type:"FILE",source:"../apis/index-en",importType:"named",imported:["queryCompany"],ext:"tsx",resolvedSource:"../apis/index-enC:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src\\BusinessTreeSelectBuilder\\demos\\apis\\index-en.ts",value:"export const queryCompany = () => {\r\n  return new Promise((resolve) => {\r\n    console.log('queryOrg only once');\r\n    setTimeout(() => {\r\n      resolve([\r\n        {\r\n          name: 'Group Company',\r\n          id: 1,\r\n          children: [\r\n            {\r\n              name: 'Sub Company A',\r\n              id: 2,\r\n            },\r\n            {\r\n              name: 'Sub Company B',\r\n              id: 3,\r\n            },\r\n          ],\r\n        },\r\n        { name: 'Other Company', id: -1 },\r\n      ]);\r\n    }, 1200);\r\n  });\r\n};\r\n\r\nexport const queryDept = (params): Promise<any> => {\r\n  return new Promise((resolve) => {\r\n    console.log('queryDept', params);\r\n    setTimeout(() => {\r\n      if (params.id === 1) {\r\n        resolve([\r\n          { name: 'Group - CEO', id: 1 },\r\n          {\r\n            name: 'Group - Sales',\r\n            id: 2,\r\n            children: [\r\n              { name: 'Group - Sale 1', id: 3 },\r\n              { name: 'Group - Sale 2', id: 4 },\r\n            ],\r\n          },\r\n        ]);\r\n      } else if (params.id === 2) {\r\n        resolve([\r\n          {\r\n            name: 'Sub Company A - dept',\r\n            id: 1,\r\n            children: [\r\n              {\r\n                name: 'Sub Company A - dept 1',\r\n                id: 2,\r\n              },\r\n              {\r\n                name: 'Sub Company A - dept 2',\r\n                id: 3,\r\n              },\r\n            ],\r\n          },\r\n        ]);\r\n      } else if (params.id === 3) {\r\n        resolve([\r\n          {\r\n            name: 'Sub Company B - dept',\r\n            id: 1,\r\n            children: [\r\n              {\r\n                name: 'Sub Company B - dept 1',\r\n                id: 2,\r\n              },\r\n              {\r\n                name: 'Sub Company B - dept 2',\r\n                id: 3,\r\n              },\r\n            ],\r\n          },\r\n        ]);\r\n      } else {\r\n        resolve([\r\n          {\r\n            name: 'Other Company - dept',\r\n            id: 1,\r\n            children: [\r\n              {\r\n                name: 'Other Company - dept 1',\r\n                id: 2,\r\n              },\r\n              {\r\n                name: 'Other Company - dept 2',\r\n                id: 3,\r\n              },\r\n            ],\r\n          },\r\n        ]);\r\n      }\r\n    }, 1000);\r\n  });\r\n};\r\n",depth:1,parent:"C:\\Users\\admin\\Documents\\personal-projects\\react-admin-kit\\packages\\react-admin-kit\\src/BusinessTreeSelectBuilder/demos/onLoad-en/index.tsx"}]};function h(){let{colorMode:e}=(0,o.G)(),n=(0,i.A)();return(0,t.jsx)(p.M,{component:(0,t.jsx)(u,{}),componentInfo:y,inline:!1,title:void 0,tooltipRender:e=>(0,a.T)({id:`previewer.actions.code.${e?"shrink":"expand"}`}),colorMode:e,isBrowser:n})}},55510:function(e){"use strict";e.exports=JSON.parse('{"permalink":"/react-admin-kit/en/components/business-tree-select","source":"@site/i18n/en/docusaurus-plugin-content-blog-blog1/business-tree-select/index.mdx","title":"BusinessTreeSelect","description":"Provides the same functionality as BusinessSelect, but works with tree data instead of flat lists.","date":"2025-02-02T00:00:00.000Z","tags":[],"hasTruncateMarker":false,"authors":[],"frontMatter":{"date":"2025-02-02T00:00:00.000Z","sidebar_label":"BusinessTreeSelect:1:Derived Components:1"},"unlisted":false,"prevItem":{"title":"BusinessSelect","permalink":"/react-admin-kit/en/components/business-select"},"nextItem":{"title":"Button","permalink":"/react-admin-kit/en/components/button"}}')}}]);